<!DOCTYPE html>
<html>

<head>
        <script>
                //Funcion para ingresar tamaÃ±o de matriz
                const espiral = (dimension) => {
                        if (!(dimension % 2 ==0)){
                                //crear arreglo con elementos diagonales
                        let diagonalOne = [1, 3];
                        let diagonalTwo = [1];

                        //elementos que lleletan la suma total del arreglo
                        let sumOne = 0;
                        let sumTwo = 0;
                        let sum = 0;

                        //diagonal principal (para dimension 5: 1, 3, 7, 13, 21)
                        let prevElement = 1; //comenzando por el numero 3
                        let paso = 4; //paso min a partir de 3
                        let counter = 0;
                        while (counter < dimension - 2) {
                                //agregar el elemento al arreglo
                                diagonalOne.push(diagonalOne[prevElement] + paso);
                                paso = paso + 2;
                                prevElement++;
                                counter++;
                        }

                        //diagonal secundaria (para dimension 5: 1, 5, 9, 17, 25)
                        let pasoSec = 4;
                        let prevElementTwo = 0; //comenzamos por 1 en diagonalTwo
                        let count = 0
                        while (count < dimension - 2) {

                                //agregar elementos al arreglo
                                if (count % 2 == 0) {
                                        //inserta primer elemento
                                        diagonalTwo.push(diagonalTwo[prevElementTwo] + pasoSec);
                                        prevElementTwo++;
                                        diagonalTwo.push(diagonalTwo[prevElementTwo] + pasoSec);
                                        prevElementTwo++;
                                        //aumenta el paso
                                        pasoSec = pasoSec + 4;
                                }

                                count++;
                        }

                        diagonalOne.forEach(function (element) {
                                sumOne = sumOne + element;
                                return sumOne;
                        });
                        console.log(diagonalOne);

                        diagonalTwo.forEach(function (element) {
                                sumTwo = sumTwo + element;
                                return sumTwo;
                        });
                        console.log(diagonalTwo);

                        sum = sumOne + sumTwo - 1;

                        //Retornar suma diagonal
                        return document.getElementById("root").innerHTML = sum;
                        } else {
                                return document.getElementById("root").innerHTML = "Dimension debe ser impar";
                        }
                        
                }

        </script>
        <title>Espiral</title>
</head>

<body>
        <p>Inserta la dimension de la matriz y presiona enter:</p>
        <input type="text" onchange="document.getElementById('root').innerHTML = espiral(value)">
        <br><br>
        <div id='root'></div>
</body>

</html>